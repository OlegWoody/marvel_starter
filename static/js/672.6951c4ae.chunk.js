"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[672],{425:(c,e,t)=>{t.d(e,{A:()=>n});const a=t.p+"static/media/error.42292aa12b6bc303ce99.gif";var s=t(579);const n=()=>(0,s.jsx)("img",{style:{display:"block",width:"250px",height:"250px",objectFit:"contain",margin:"0 auto"},src:a,alt:"error img"})},187:(c,e,t)=>{t.r(e),t.d(e,{default:()=>h});var a=t(897),s=t(43),n=t(216),i=t(475),r=t(425),o=t(502),l=t(591),m=t(579);const u=c=>{let{comic:e}=c;const{id:t,name:a,price:s,thumbnail:n,description:r,pageCount:o,language:u}=e;return(0,m.jsxs)("div",{className:"single-comic",children:[(0,m.jsxs)(l.m,{children:[(0,m.jsx)("meta",{name:"description",content:"".concat(a," comics book")}),(0,m.jsx)("title",{children:a})]}),(0,m.jsx)("img",{src:n,alt:a,className:"single-comic__img"}),(0,m.jsxs)("div",{className:"single-comic__info",children:[(0,m.jsx)("h2",{className:"single-comic__name",children:a}),(0,m.jsx)("p",{className:"single-comic__descr",children:r}),(0,m.jsx)("p",{className:"single-comic__descr",children:o}),(0,m.jsxs)("p",{className:"single-comic__descr",children:["Language: ",u]}),(0,m.jsx)("div",{className:"single-comic__price",children:s})]}),(0,m.jsx)(i.N_,{to:"/comics",className:"single-comic__back",children:"Back to all"})]},t)},d=c=>{let{char:e}=c;const{id:t,name:a,description:s,thumbnail:n}=e;return(0,m.jsxs)("div",{className:"single-comic",children:[(0,m.jsxs)(l.m,{children:[(0,m.jsx)("meta",{name:"description",content:"".concat(a," charapter of comics")}),(0,m.jsx)("title",{children:a})]}),(0,m.jsx)("img",{src:n,alt:a,className:"single-comic__char-img"}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{className:"single-comic__char-name",children:a}),(0,m.jsx)("p",{className:"single-comic__char-descr",children:s})]}),(0,m.jsx)(i.N_,{to:"/",className:"single-comic__back",children:"Back to list"})]},t)},h=()=>{const{comicId:c,charId:e}=(0,n.g)(),[t,i]=(0,s.useState)(null),[l,h]=(0,s.useState)(null),{loading:g,error:p,clearError:x,getComics:j,getCharacter:b}=(0,a.A)();(0,s.useEffect)((()=>{_()}),[c,e]);const _=()=>{c?j(c).then(f):e&&(console.log(e),b(e).then(v))},f=c=>{i(c)},v=c=>{h(c)},N=p?(0,m.jsx)(r.A,{}):null,w=g?(0,m.jsx)(o.A,{}):null,C=g||p||!t?g||p||!l?null:(0,m.jsx)(d,{char:l}):(0,m.jsx)(u,{comic:t});return(0,m.jsxs)(m.Fragment,{children:[N,w,C]})}},897:(c,e,t)=>{t.d(e,{A:()=>s});var a=t(43);const s=()=>{const{loading:c,request:e,error:t,clearError:s,status:n,setStatus:i}=(()=>{const[c,e]=(0,a.useState)(!1),[t,s]=(0,a.useState)(!1),[n,i]=(0,a.useState)("waiting"),r=(0,a.useCallback)((async function(c){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"Content-Type":"application/json"};e(!0),i("loading");try{const s=await fetch(c,{method:t,body:a,headers:n});if(!s.ok)throw new Error("Could not fetch ".concat(c,", status: ").concat(s.status));const i=await s.json();return e(!1),i}catch(r){throw e(!1),s(r.message),r}}),[]);return{loading:c,error:t,clearError:(0,a.useCallback)((()=>{s(null),i("waiting")}),[]),request:r,status:n,setStatus:i}})(),r="https://gateway.marvel.com:443/v1/public/",o="apikey=729b5cdb5d9dcfb32ca407c6c566b080",l=c=>{var e;return{id:c.id,homepage:c.urls[0].url,name:c.title,price:c.prices[0].price?"".concat(c.prices[0].price,"$"):"not available",thumbnail:c.thumbnail.path+"."+c.thumbnail.extension,description:c.description||"There is no description",pageCount:c.pageCount?"".concat(c.pageCount," p."):"No information about the number of pages",language:(null===(e=c.textObjects[0])||void 0===e?void 0:e.language)||"en-us"}},m=c=>c?{id:c.id,name:c.name,description:c.description?"".concat(c.description.slice(0,210),"..."):"There is no description for this character",thumbnail:c.thumbnail.path+"."+c.thumbnail.extension,homepage:c.urls[0].url,wiki:c.urls[1].url,comics:c.comics.items}:{error:!0};return{status:n,setStatus:i,loading:c,error:t,clearError:s,getAllCharacters:async function(){let c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:210;return(await e("".concat(r,"characters?limit=9&offset=").concat(c,"&").concat(o))).data.results.map(m)},getCharacter:async c=>{const t=await e("".concat(r,"characters/").concat(c,"?").concat(o));return m(t.data.results[0])},getAllComics:async function(){let c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:210;return(await e("".concat(r,"comics?limit=8&offset=").concat(c,"&").concat(o))).data.results.map(l)},getComics:async c=>{const t=await e("".concat(r,"comics/").concat(c,"?").concat(o));return l(t.data.results[0])},getCharacterByName:async c=>(await e("".concat(r,"characters?name=").concat(c,"&").concat(o))).data.results}}}}]);
//# sourceMappingURL=672.6951c4ae.chunk.js.map